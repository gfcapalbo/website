<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>

<template id="sidebar_context_editable" name="CMS sidebar context editable">

<!--   <div id="sidebar_content"
       class="oe_structure"
       t-att-data-oe-model="context._name"
       t-att-data-oe-field="'sidebar_content'"
       t-att-data-oe-id="context.id"
       data-oe-type="html">

    <t t-if="not context.sidebar_content">
      <mark>Customize this block as you like</mark>
    </t>
  </div> -->

  <t t-if="False"># Make `sidebar_content` editable ;)</t>
  <div id="sidebar_content"
       t-field="context.sidebar_content"
       class="oe_structure"
       contenteditable="true"
       />

</template>

<!-- enable view for cms sidebar -->
<record id="website_cms.sidebar_context_editable" model="ir.ui.view">
  <field name="cms_sidebar" eval="1" />
</record>


<template id="sidebar_rendering" name="CMS sidebar rendering">
  <t t-if="context">
    <t t-if="context.sidebar_view_ids">
      <t t-foreach="context.sidebar_view_ids" t-as="view">
        <t t-call="#{ view.key }" />
      </t>
    </t>

    <t t-if="request.debug">
      <div class="debug" style="color:orange !important">
        <div class="alert alert-warning" role="alert">
          <h4>Debug mode ON</h4>
          <br />
          <t t-if="context.sidebar_view_ids">
            <h5>Views assigned here on context</h5>
            <ul>
              <t t-foreach="context.sidebar_view_ids" t-as="view">
                <li><small t-esc="view.key" /></li>
              </t>
            </ul>
          </t>
          <t t-if="not context.sidebar_view_ids">
            <h5>No view assigned here on context</h5>
          </t>
        </div>
      </div>
    </t>
  </t>
</template>


    </data>
</openerp>
